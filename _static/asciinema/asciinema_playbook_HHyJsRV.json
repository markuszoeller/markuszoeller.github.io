{
  "stdout": [
    [
      0.107825,
      "\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007"
    ],
    [
      0.000255,
      "\u001b[?1034h"
    ],
    [
      1.3e-05,
      "[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      1.20131,
      "\r\n"
    ],
    [
      0.000253,
      "\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007"
    ],
    [
      3.5e-05,
      "[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      0.159183,
      "\r\n"
    ],
    [
      0.000439,
      "\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007"
    ],
    [
      5.4e-05,
      "[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      0.15129,
      "\r\n"
    ],
    [
      0.000353,
      "\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007"
    ],
    [
      7.5e-05,
      "[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      1.167865,
      "a"
    ],
    [
      0.087322,
      "n"
    ],
    [
      0.096483,
      "s"
    ],
    [
      0.095775,
      "i"
    ],
    [
      0.384267,
      "l"
    ],
    [
      0.214056,
      "\u0007"
    ],
    [
      0.337936,
      "\b\u001b[K"
    ],
    [
      0.080023,
      "b"
    ],
    [
      0.253568,
      "\u0007le"
    ],
    [
      0.530329,
      "-"
    ],
    [
      0.183888,
      "p"
    ],
    [
      0.15194,
      "l"
    ],
    [
      0.117739,
      "aybook "
    ],
    [
      0.658611,
      "p"
    ],
    [
      0.160058,
      "l"
    ],
    [
      0.095886,
      "a"
    ],
    [
      0.215525,
      "ybook.yml "
    ],
    [
      0.937204,
      "\r\n"
    ],
    [
      1.1674,
      "\r\nPLAY [all] *************************************************************************************************************\r\n"
    ],
    [
      0.039942,
      "\r\nTASK [Wait for SSH to be ready.] ***************************************************************************************\r\n"
    ],
    [
      1.8e-05,
      "Wednesday 22 November 2017  08:50:38 +0100 (0:00:00.106)       0:00:00.106 **** \r\n"
    ],
    [
      2.0,
      "\u001b[0;32mok: [app-server-1 -> localhost]\u001b[0m\r\n"
    ],
    [
      0.00032,
      "\u001b[0;32mok: [app-server-2 -> localhost]\u001b[0m\r\n"
    ],
    [
      0.000242,
      "\u001b[0;32mok: [monitoring -> localhost]\u001b[0m\r\n"
    ],
    [
      0.001883,
      "\r\nTASK [Add our servers to the hosts file.] ******************************************************************************\r\n"
    ],
    [
      0.000106,
      "Wednesday 22 November 2017  08:50:44 +0100 (0:00:05.337)       0:00:05.443 **** \r\n"
    ],
    [
      0.620044,
      "\u001b[0;33mchanged: [monitoring] => (item=monitoring)\u001b[0m\r\n"
    ],
    [
      0.001483,
      "\u001b[0;33mchanged: [app-server-2] => (item=monitoring)\u001b[0m\r\n\u001b[0;33mchanged: [app-server-1] => (item=monitoring)\u001b[0m\r\n"
    ],
    [
      0.198553,
      "\u001b[0;33mchanged: [monitoring] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.00478,
      "\u001b[0;33mchanged: [app-server-1] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.000215,
      "\u001b[0;33mchanged: [app-server-2] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.200899,
      "\u001b[0;33mchanged: [app-server-1] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.000333,
      "\u001b[0;33mchanged: [app-server-2] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.000659,
      "\u001b[0;33mchanged: [monitoring] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.001965,
      "\r\nTASK [Ping each other via DNS names.] **********************************************************************************\r\n"
    ],
    [
      8.9e-05,
      "Wednesday 22 November 2017  08:50:45 +0100 (0:00:01.029)       0:00:06.472 **** \r\n"
    ],
    [
      0.294851,
      "\u001b[0;32mok: [monitoring] => (item=monitoring)\u001b[0m\r\n"
    ],
    [
      0.002161,
      "\u001b[0;32mok: [app-server-2] => (item=monitoring)\u001b[0m\r\n\u001b[0;32mok: [app-server-1] => (item=monitoring)\u001b[0m\r\n"
    ],
    [
      0.191368,
      "\u001b[0;32mok: [monitoring] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.004759,
      "\u001b[0;32mok: [app-server-2] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.001371,
      "\u001b[0;32mok: [app-server-1] => (item=app-server-1)\u001b[0m\r\n"
    ],
    [
      0.188493,
      "\u001b[0;32mok: [app-server-1] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.000423,
      "\u001b[0;32mok: [monitoring] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.000221,
      "\u001b[0;32mok: [app-server-2] => (item=app-server-2)\u001b[0m\r\n"
    ],
    [
      0.00195,
      "\r\nTASK [Ensure system package cache is updated.] *************************************************************************\r\n"
    ],
    [
      4.5e-05,
      "Wednesday 22 November 2017  08:50:46 +0100 (0:00:00.685)       0:00:07.158 **** \r\n"
    ],
    [
      2.0,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.028593,
      "\u001b[0;33mchanged: [app-server-1]\u001b[0m\r\n"
    ],
    [
      0.029136,
      "\u001b[0;33mchanged: [app-server-2]\u001b[0m\r\n"
    ],
    [
      0.011068,
      "\r\nPLAY [all] *************************************************************************************************************\r\n"
    ],
    [
      0.002829,
      "\r\nTASK [Gathering Facts] *************************************************************************************************\r\n"
    ],
    [
      0.00025,
      "Wednesday 22 November 2017  08:50:51 +0100 (0:00:05.027)       0:00:12.186 **** \r\n"
    ],
    [
      0.552078,
      "\u001b[0;32mok: [app-server-1]\u001b[0m\r\n"
    ],
    [
      0.000976,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.001369,
      "\u001b[0;32mok: [app-server-2]\u001b[0m\r\n"
    ],
    [
      0.003047,
      "\r\nTASK [Install Prometheus Node Exporter package.] ***********************************************************************\r\n"
    ],
    [
      8.7e-05,
      "Wednesday 22 November 2017  08:50:51 +0100 (0:00:00.557)       0:00:12.744 **** \r\n"
    ],
    [
      2.0,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.011393,
      "\u001b[0;33mchanged: [app-server-1]\u001b[0m\r\n"
    ],
    [
      0.006321,
      "\u001b[0;33mchanged: [app-server-2]\u001b[0m\r\n"
    ],
    [
      0.004789,
      "\r\nTASK [Ensure the Node Exporter is started and starts at host boot.] ****************************************************\r\n"
    ],
    [
      6.1e-05,
      "Wednesday 22 November 2017  08:50:57 +0100 (0:00:05.592)       0:00:18.336 **** \r\n"
    ],
    [
      0.317006,
      "\u001b[0;32mok: [app-server-1]\u001b[0m\r\n"
    ],
    [
      0.000355,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.000173,
      "\u001b[0;32mok: [app-server-2]\u001b[0m\r\n"
    ],
    [
      0.003011,
      "\r\nTASK [Check if the service emits metrics.] *****************************************************************************\r\n"
    ],
    [
      4e-05,
      "Wednesday 22 November 2017  08:50:57 +0100 (0:00:00.320)       0:00:18.657 **** \r\n"
    ],
    [
      0.344225,
      "\u001b[0;32mok: [monitoring]\u001b[0m"
    ],
    [
      4e-05,
      "\r\n"
    ],
    [
      0.000289,
      "\u001b[0;32mok: [app-server-1]\u001b[0m\r\n"
    ],
    [
      0.000206,
      "\u001b[0;32mok: [app-server-2]\u001b[0m\r\n"
    ],
    [
      0.006779,
      "\r\nPLAY [monitoring] ******************************************************************************************************\r\n"
    ],
    [
      0.003766,
      "\r\nTASK [Gathering Facts] *************************************************************************************************\r\n"
    ],
    [
      0.000106,
      "Wednesday 22 November 2017  08:50:57 +0100 (0:00:00.355)       0:00:19.012 **** \r\n"
    ],
    [
      0.30587,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002357,
      "\r\nTASK [Install the Prometheus server.] **********************************************************************************\r\n"
    ],
    [
      3.6e-05,
      "Wednesday 22 November 2017  08:50:58 +0100 (0:00:00.308)       0:00:19.321 **** \r\n"
    ],
    [
      2.0,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.004944,
      "\r\nTASK [Configure the Prometheus server.] ********************************************************************************\r\n"
    ],
    [
      4.3e-05,
      "Wednesday 22 November 2017  08:51:11 +0100 (0:00:13.305)       0:00:32.626 **** \r\n"
    ],
    [
      0.619976,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.001989,
      "\r\nTASK [Ensure Prometheus is started and starts at host boot.] ***********************************************************\r\n"
    ],
    [
      4.4e-05,
      "Wednesday 22 November 2017  08:51:12 +0100 (0:00:00.621)       0:00:33.248 **** \r\n"
    ],
    [
      0.205017,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002532,
      "\r\nTASK [Check if Prometheus is accessible.] ******************************************************************************\r\n"
    ],
    [
      8.7e-05,
      "Wednesday 22 November 2017  08:51:12 +0100 (0:00:00.207)       0:00:33.456 **** \r\n"
    ],
    [
      0.212325,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002379,
      "\r\nTASK [Install the Grafana server.] *************************************************************************************\r\n"
    ],
    [
      4.5e-05,
      "Wednesday 22 November 2017  08:51:12 +0100 (0:00:00.214)       0:00:33.671 **** \r\n"
    ],
    [
      2.0,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002522,
      "\r\nTASK [Copy Grafana configuration file.] ********************************************************************************\r\n"
    ],
    [
      9.3e-05,
      "Wednesday 22 November 2017  08:51:50 +0100 (0:00:37.757)       0:01:11.428 **** \r\n"
    ],
    [
      0.43686,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002037,
      "\r\nTASK [Ensure Grafana is started and starts at host boot.] **************************************************************\r\n"
    ],
    [
      8.9e-05,
      "Wednesday 22 November 2017  08:51:50 +0100 (0:00:00.439)       0:01:11.867 **** \r\n"
    ],
    [
      0.208112,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002287,
      "\r\nTASK [Check if Grafana is accessible.] *********************************************************************************\r\n"
    ],
    [
      4e-05,
      "Wednesday 22 November 2017  08:51:50 +0100 (0:00:00.210)       0:01:12.078 **** \r\n"
    ],
    [
      0.214005,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002468,
      "\r\nTASK [Add Prometheus as datasource to Grafana.] ************************************************************************\r\n"
    ],
    [
      4.2e-05,
      "Wednesday 22 November 2017  08:51:51 +0100 (0:00:00.216)       0:01:12.294 **** \r\n"
    ],
    [
      0.252388,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.002563,
      "\r\nTASK [Upload the example Grafana dashboard.] ***************************************************************************\r\n"
    ],
    [
      4e-05,
      "Wednesday 22 November 2017  08:51:51 +0100 (0:00:00.254)       0:01:12.549 **** \r\n"
    ],
    [
      0.28378,
      "\u001b[0;32mok: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.000331,
      "\r\nRUNNING HANDLER [Restart the Prometheus service.] **********************************************************************\r\n"
    ],
    [
      0.00015,
      "Wednesday 22 November 2017  08:51:51 +0100 (0:00:00.284)       0:01:12.834 **** \r\n"
    ],
    [
      1.263595,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.000133,
      "\r\nRUNNING HANDLER [Restart the Grafana service.] *************************************************************************\r\n"
    ],
    [
      0.00013,
      "Wednesday 22 November 2017  08:51:52 +0100 (0:00:01.263)       0:01:14.097 **** \r\n"
    ],
    [
      0.235958,
      "\u001b[0;33mchanged: [monitoring]\u001b[0m\r\n"
    ],
    [
      0.008492,
      "\r\nPLAY [application-servers] *********************************************************************************************\r\n"
    ],
    [
      0.003445,
      "\r\nTASK [Copy the applications to the servers.] ***************************************************************************\r\n"
    ],
    [
      6.6e-05,
      "Wednesday 22 November 2017  08:51:53 +0100 (0:00:00.247)       0:01:14.345 **** \r\n"
    ],
    [
      0.436419,
      "\u001b[0;33mchanged: [app-server-1] => (item=eat_cpu.py)\u001b[0m\r\n"
    ],
    [
      0.000153,
      "\u001b[0;33mchanged: [app-server-2] => (item=eat_cpu.py)\u001b[0m\r\n"
    ],
    [
      0.47244,
      "\u001b[0;33mchanged: [app-server-2] => (item=eat_disk.py)\u001b[0m\r\n"
    ],
    [
      0.010243,
      "\u001b[0;33mchanged: [app-server-1] => (item=eat_disk.py)\u001b[0m\r\n"
    ],
    [
      0.438392,
      "\u001b[0;33mchanged: [app-server-2] => (item=eat_memory.py)\u001b[0m\r\n"
    ],
    [
      0.004861,
      "\u001b[0;33mchanged: [app-server-1] => (item=eat_memory.py)\u001b[0m\r\n"
    ],
    [
      0.001111,
      "\r\nPLAY RECAP *************************************************************************************************************\r\n"
    ],
    [
      1.7e-05,
      "\u001b[0;33mapp-server-1\u001b[0m               : \u001b[0;32mok=9   \u001b[0m \u001b[0;33mchanged=4   \u001b[0m unreachable=0    failed=0   \r\n"
    ],
    [
      7.1e-05,
      "\u001b[0;33mapp-server-2\u001b[0m               : \u001b[0;32mok=9   \u001b[0m \u001b[0;33mchanged=4   \u001b[0m unreachable=0    failed=0   \r\n"
    ],
    [
      6.2e-05,
      "\u001b[0;33mmonitoring\u001b[0m                 : \u001b[0;32mok=21  \u001b[0m \u001b[0;33mchanged=9   \u001b[0m unreachable=0    failed=0   \r\n"
    ],
    [
      3.3e-05,
      "\r\n"
    ],
    [
      0.000151,
      "Wednesday 22 November 2017  08:51:54 +0100 (0:00:01.363)       0:01:15.709 **** \r\n=============================================================================== \r\n"
    ],
    [
      0.000103,
      "Install the Grafana server. -------------------------------------------- 37.76s\r\n"
    ],
    [
      1.7e-05,
      "Install the Prometheus server. ----------------------------------------- 13.31s\r\n"
    ],
    [
      7.4e-05,
      "Install Prometheus Node Exporter package. ------------------------------- 5.59s\r\nWait for SSH to be ready. ----------------------------------------------- 5.34s\r\n"
    ],
    [
      7.1e-05,
      "Ensure system package cache is updated. --------------------------------- 5.03s\r\nCopy the applications to the servers. ----------------------------------- 1.36s\r\nRestart the Prometheus service. ----------------------------------------- 1.26s\r\n"
    ],
    [
      6.9e-05,
      "Add our servers to the hosts file. -------------------------------------- 1.03s\r\nPing each other via DNS names. ------------------------------------------ 0.69s\r\nConfigure the Prometheus server. ---------------------------------------- 0.62s\r\n"
    ],
    [
      2e-05,
      "Gathering Facts --------------------------------------------------------- 0.56s\r\n"
    ],
    [
      1.1e-05,
      "Copy Grafana configuration file. ---------------------------------------- 0.44s\r\n"
    ],
    [
      3e-05,
      "Check if the service emits metrics. ------------------------------------- 0.36s\r\n"
    ],
    [
      2.3e-05,
      "Ensure the Node Exporter is started and starts at host boot. ------------ 0.32s\r\n"
    ],
    [
      8.5e-05,
      "Gathering Facts --------------------------------------------------------- 0.31s\r\nUpload the example Grafana dashboard. ----------------------------------- 0.28s\r\nAdd Prometheus as datasource to Grafana. -------------------------------- 0.25s\r\n"
    ],
    [
      1.6e-05,
      "Restart the Grafana service. -------------------------------------------- 0.25s\r\n"
    ],
    [
      1.2e-05,
      "Check if Grafana is accessible. ----------------------------------------- 0.22s\r\n"
    ],
    [
      2.5e-05,
      "Check if Prometheus is accessible. -------------------------------------- 0.21s\r\n"
    ],
    [
      0.221516,
      "\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      2.0,
      "\r\n\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      0.156491,
      "\r\n\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      0.128123,
      "\r\n\u001b]0;markus@p50:~/git/markuszoeller/markuszoeller.github.io/posts/drafts/ansible-playbook-roles\u0007[\u001b[37mmarkus@local\u001b(B\u001b[m]$ "
    ],
    [
      0.391441,
      "e"
    ],
    [
      0.184014,
      "x"
    ],
    [
      0.127979,
      "i"
    ],
    [
      0.096118,
      "t"
    ],
    [
      0.752143,
      "\r\nexit\r\n"
    ]
  ],
  "title": null,
  "command": null,
  "height": 30,
  "width": 120,
  "version": 1,
  "env": {
    "TERM": "xterm-256color",
    "SHELL": "/bin/bash"
  },
  "duration": 31.349251
}