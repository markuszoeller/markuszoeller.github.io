
.. image:: https://github.com/markuszoeller/markuszoeller.github.io/actions/workflows/publish-gh-pages.yml/badge.svg?branch=sources
    :target: https://github.com/markuszoeller/markuszoeller.github.io/actions/workflows/publish-gh-pages.yml
    :alt: Publish to GithubPages


======
README
======

The sources for the blog http://www.markusz.io/ which gets
generated by the Python package *ablog*.


Environment
===========

The logic is in a container which needs to be build first::

    $ docker build . -t markuszoeller/blog:latest
    $ docker push markuszoeller/blog:latest


Build
=====

Run this to build the content::

    $ docker run --rm -v `pwd`:/opt/shared markuszoeller/blog:latest mgmt build


Run
===

Run this to show the built content::

    $ cd _website && python3 -m http.server

After that website can be accessed at http://127.0.0.1:8000/


Testing
=======

Check for common mistakes (which can be detected by code)::

    $ docker run --rm -v `pwd`:/opt/shared markuszoeller/blog:latest mgmt test


Release
=======

The release is done automatically with *Github Actions*. The important
file is ``.github/workflows/publish-gh-pages.yml`` Every push on
the ``sources`` branch will do a release of the blog. Also every day automatically
at 00:00 to release posts I predated.


Configuration
=============

https://ablog.readthedocs.io/en/latest/manual/ablog-configuration-options/


Terminal Replay
===============

The terminal replay happens with ``asciinema``::

    pip install -U "asciinema==1.3.0"
